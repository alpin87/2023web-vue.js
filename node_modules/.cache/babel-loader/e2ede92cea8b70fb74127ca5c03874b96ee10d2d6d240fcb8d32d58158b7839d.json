{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      stockName: '',\n      stocks: []\n    };\n  },\n  methods: {\n    async fetchStockData() {\n      const SERVICE_KEY = 'sPflHfYN%2B8hDbVPVQ1Tzan%2BDdcLML3zuUddb2dfQ8LSZ%2F7w8YaM5fvHp69XKA6djtQVDvhj8NKn6KgsdvMzaTg%3D%3D';\n      const url = `https://apis.data.go.kr/1160100/service/GetStockSecuritiesInfoService/getStockPriceInfo?serviceKey=${SERVICE_KEY}&numOfRows=100&pageNo=1`;\n      try {\n        const {\n          data\n        } = await axios.get(url);\n        const parser = new window.DOMParser();\n        const xmlDoc = parser.parseFromString(data, 'text/xml');\n        const items = xmlDoc.querySelectorAll('item');\n        this.stocks = Array.from(items).map(item => {\n          const itmsNm = item.querySelector('itmsNm').textContent;\n          if (this.stockName === '' || itmsNm.includes(this.stockName)) {\n            return {\n              srtnCd: item.querySelector('srtnCd').textContent,\n              itmsNm: itmsNm,\n              trqu: item.querySelector('trqu').textContent,\n              trPrc: item.querySelector('trPrc').textContent,\n              hipr: item.querySelector('hipr').textContent,\n              lopr: item.querySelector('lopr').textContent\n            };\n          }\n          return null;\n        }).filter(Boolean);\n      } catch (error) {\n        console.error('Error:', error);\n      }\n    },\n    formatPrice(price) {\n      return new Intl.NumberFormat('ko-KR').format(price) + ' 원';\n    },\n    formatQuantity(quantity) {\n      return new Intl.NumberFormat('ko-KR').format(quantity) + ' 개';\n    }\n  },\n  mounted() {\n    this.fetchStockData();\n  }\n};","map":{"version":3,"names":["axios","data","stockName","stocks","methods","fetchStockData","SERVICE_KEY","url","get","parser","window","DOMParser","xmlDoc","parseFromString","items","querySelectorAll","Array","from","map","item","itmsNm","querySelector","textContent","includes","srtnCd","trqu","trPrc","hipr","lopr","filter","Boolean","error","console","formatPrice","price","Intl","NumberFormat","format","formatQuantity","quantity","mounted"],"sources":["C:\\Users\\qortm\\Desktop\\vueweb\\vue_web\\src\\views\\TestView.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"search-section\">\r\n      <input type=\"text\" v-model=\"stockName\" placeholder=\"Enter stock name...\" class=\"search-input\">\r\n      <button @click=\"fetchStockData\" class=\"search-button\">Search</button>\r\n    </div>\r\n    <div class=\"table-section\">\r\n      <table id=\"stock-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>주식코드</th>\r\n            <th>주식이름</th>\r\n            <th>거래량</th>\r\n            <th>거래대금</th>\r\n            <th>고가</th>\r\n            <th>저가</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(stock, index) in stocks\" :key=\"index\">\r\n            <td>{{ stock.srtnCd }}</td>\r\n            <td>{{ stock.itmsNm }}</td>\r\n            <td>{{ formatQuantity(stock.trqu) }}</td>\r\n            <td>{{ formatPrice(stock.trPrc) }}</td>\r\n            <td>{{ formatPrice(stock.hipr) }}</td>\r\n            <td>{{ formatPrice(stock.lopr) }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      stockName: '',\r\n      stocks: []\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchStockData () {\r\n      const SERVICE_KEY = 'sPflHfYN%2B8hDbVPVQ1Tzan%2BDdcLML3zuUddb2dfQ8LSZ%2F7w8YaM5fvHp69XKA6djtQVDvhj8NKn6KgsdvMzaTg%3D%3D'\r\n      const url = `https://apis.data.go.kr/1160100/service/GetStockSecuritiesInfoService/getStockPriceInfo?serviceKey=${SERVICE_KEY}&numOfRows=100&pageNo=1`\r\n\r\n      try {\r\n        const { data } = await axios.get(url)\r\n        const parser = new window.DOMParser()\r\n        const xmlDoc = parser.parseFromString(data, 'text/xml')\r\n        const items = xmlDoc.querySelectorAll('item')\r\n        this.stocks = Array.from(items).map(item => {\r\n          const itmsNm = item.querySelector('itmsNm').textContent\r\n          if (this.stockName === '' || itmsNm.includes(this.stockName)) {\r\n            return {\r\n              srtnCd: item.querySelector('srtnCd').textContent,\r\n              itmsNm: itmsNm,\r\n              trqu: item.querySelector('trqu').textContent,\r\n              trPrc: item.querySelector('trPrc').textContent,\r\n              hipr: item.querySelector('hipr').textContent,\r\n              lopr: item.querySelector('lopr').textContent\r\n            }\r\n          }\r\n          return null\r\n        }).filter(Boolean)\r\n      } catch (error) {\r\n        console.error('Error:', error)\r\n      }\r\n    },\r\n    formatPrice (price) {\r\n      return new Intl.NumberFormat('ko-KR').format(price) + ' 원'\r\n    },\r\n    formatQuantity (quantity) {\r\n      return new Intl.NumberFormat('ko-KR').format(quantity) + ' 개'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.fetchStockData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n<style scoped>\r\nbody, html {\r\n  height: 100%;\r\n  width: 1000px;\r\n  margin: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0;\r\n  background: #f2f2f2;\r\n}\r\n\r\n.container {\r\n  max-width: 1800px;\r\n  margin-left:200px;\r\n  width: 800px;\r\n  padding: 20px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  background: white;\r\n  border-radius: 5px;\r\n\r\n  /* Add this to center children vertically */\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.search-section {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-input {\r\n  width: 70%;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  font-size: 1rem;\r\n}\r\n\r\n.search-button {\r\n  width: 20%;\r\n  padding: 10px;\r\n  margin-left: 5%;\r\n  background-color: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n}\r\n\r\n.table-section {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n#stock-table {\r\n  width: 100%;\r\n  max-width: 1800px;\r\n  border-collapse: collapse;\r\n  border: 1px solid #ddd;\r\n  box-shadow: 0px 0px 20px 0px rgba(0,0,0,0.15);\r\n}\r\n\r\n#stock-table th, #stock-table td {\r\n  padding: 15px;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n#stock-table th {\r\n  background-color: #4caf50;\r\n  color: white;\r\n  text-transform: uppercase;\r\n}\r\n\r\n#stock-table tr:nth-child(even) {\r\n  background-color: #f8f8f8;\r\n}\r\n</style>\r\n"],"mappings":"AAkCA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,MAAM,EAAE;IACV;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,cAAaA,CAAA,EAAK;MACtB,MAAMC,WAAU,GAAI,oGAAmG;MACvH,MAAMC,GAAE,GAAK,sGAAqGD,WAAY,yBAAuB;MAErJ,IAAI;QACF,MAAM;UAAEL;QAAK,IAAI,MAAMD,KAAK,CAACQ,GAAG,CAACD,GAAG;QACpC,MAAME,MAAK,GAAI,IAAIC,MAAM,CAACC,SAAS,CAAC;QACpC,MAAMC,MAAK,GAAIH,MAAM,CAACI,eAAe,CAACZ,IAAI,EAAE,UAAU;QACtD,MAAMa,KAAI,GAAIF,MAAM,CAACG,gBAAgB,CAAC,MAAM;QAC5C,IAAI,CAACZ,MAAK,GAAIa,KAAK,CAACC,IAAI,CAACH,KAAK,CAAC,CAACI,GAAG,CAACC,IAAG,IAAK;UAC1C,MAAMC,MAAK,GAAID,IAAI,CAACE,aAAa,CAAC,QAAQ,CAAC,CAACC,WAAU;UACtD,IAAI,IAAI,CAACpB,SAAQ,KAAM,EAAC,IAAKkB,MAAM,CAACG,QAAQ,CAAC,IAAI,CAACrB,SAAS,CAAC,EAAE;YAC5D,OAAO;cACLsB,MAAM,EAAEL,IAAI,CAACE,aAAa,CAAC,QAAQ,CAAC,CAACC,WAAW;cAChDF,MAAM,EAAEA,MAAM;cACdK,IAAI,EAAEN,IAAI,CAACE,aAAa,CAAC,MAAM,CAAC,CAACC,WAAW;cAC5CI,KAAK,EAAEP,IAAI,CAACE,aAAa,CAAC,OAAO,CAAC,CAACC,WAAW;cAC9CK,IAAI,EAAER,IAAI,CAACE,aAAa,CAAC,MAAM,CAAC,CAACC,WAAW;cAC5CM,IAAI,EAAET,IAAI,CAACE,aAAa,CAAC,MAAM,CAAC,CAACC;YACnC;UACF;UACA,OAAO,IAAG;QACZ,CAAC,CAAC,CAACO,MAAM,CAACC,OAAO;MACnB,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK;MAC/B;IACF,CAAC;IACDE,WAAUA,CAAGC,KAAK,EAAE;MAClB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,IAAI,IAAG;IAC3D,CAAC;IACDI,cAAaA,CAAGC,QAAQ,EAAE;MACxB,OAAO,IAAIJ,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACE,QAAQ,IAAI,IAAG;IAC9D;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACT,IAAI,CAACnC,cAAc,CAAC;EACtB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}